<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
    	// 問題番号
    	var no = 0;
    	// 正解数
    	var score = 0;
    	// 単語リスト
    	var wordList = [
    		{
    			mondai: "文房具でさいころの5と6を消すものは何？",
    			kotae: "消しゴム"
    		},
    		{
    			mondai: "おしゃべりする人でかいが4つあるものは？",
    			kotae: "司会者"
    		},
    		{
    			mondai: "クイズはクイズでも野球の試合に出すクイズは？",
    			kotae: "スクイズ"
    		},
    		{
    			mondai: "足の下にあって靴の上にあるものは？",
    			kotae: "靴下"
    		}
    	];
    	
    	// 問題を表示する
    	function showQuestion() {
        if(no<wordList.length){
          document.getElementById("question").innerHTML=wordList[no].mondai;
        }else{
          document.getElementById("question").innerHTML=score + "/" + wordList.length;
          document.getElementById("answerForm").style.display="none";
          if(score==wordList.length){
            document.getElementById("resultMessage").innerHTML="来世も人間だよ";
            document.getElementById("resultImage").src="ningen.jpg";
            }else if(score>=wordList.length*0.6){
            document.getElementById("resultMessage").innerHTML="来世はねずみだよ";  
             document.getElementById("resultImage").src="nezumi.png";
            }else{
             document.getElementById("resultMessage").innerHTML="来世はてんとう虫だよ";  
             document.getElementById("resultImage").src="tentoumusi.png"; 
            }
            }
          }
    	
    	
    	// 入力された回答の正誤判定を行う
    	function judge() {
        var answer=document.getElementById("answer").value;
        if(answer==wordList[no].kotae){
          alert("正解です");
          score++;
        }else{
          alert("不正解");
        }
        no++;
        showQuestion();
        var answer=document.getElementById("answer").value="";
        }
    </script>
</head>
<body onload="showQuestion()">
	<h1 id="title">来世診断</h1>
	<div id="question"></div>
	<div id="answerForm">
		<input type="text" id="answer" placeholder="答えを入力">
		<button onclick="judge()">OK</button>
	</div>
	<p id="resultMessage"></p>
	<img id="resultImage" src="">
</body>
</html>
